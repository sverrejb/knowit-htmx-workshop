{% extends "base.html" %}

{% block content %}

<h2>Edit employee</h2>

<form action="{{ url_for('update_employee', id=employee.id) }}" method="POST">
    {{ form.hidden_tag() }}
    <table>
        <tr>
            <td>{{ form.name(value=employee.name) }}</td>
            <td>{{ form.job(value=employee.job) }}</td>
            <td>{{ form.submit() }}</td>
        </tr>
    </table>
</form>

<h2>Delete employee</h2>
<button id="delete" onclick="deleteUser()">Delete user!</button>


<script>
function deleteUser() {
    const element = document.querySelector('#delete');
    fetch("{{ url_for('update_employee', id=employee.id) }}", { method: 'DELETE' })
    .then(() => element.innerHTML = 'Delete successful');
}
</script>

{% endblock %}