{% extends "base.html" %}

{% block content %}
<h1>Kurs i HTMX med Knowit</h1>
<p>Hei! I dette kurset skal vi l칝re litt om HTMX ved 친 vise hvordan det kan utvide en klassisk multi-page app til 친
    ha en moderne brukeropplevelse. Akkurat denne
    nettsiden er implmenetert med Python og Flask, men dette er ikke viktig! <b>Alle spr친k og rammeverk som kan
        returnere HTML fungerer med HTMX</b> (s친 i praksis nesten alle).
</p>

<h2>Kodebasen</h2>
<p>I kodebasen (repoet) finner du:</p>
<ul>
    <li>游늯 app.py - I denne fila ligger all "backendkoden" implementert i Flask. Du m친 gjerne ta en titt, men du trenger
        ikke endre noe her.
    </li>
    <li>游늬 Templates - her finner du alle HTML-malene som Flask-koden syr sammen og serverer. <b>Det er prim칝rt her vi
            skal jobbe.</b>
        <ul>
            <li>
                <code>游늯 index.html</code> er <i>denne siden</i> du leser n친. Unng친 친 친pne den om du ikke vil spoile
                alle
                hintene.
            </li>
        </ul>
    </li>
    <li>游늬 Static - her finner du statiske filer som favicon, CSS osv. Du trenger neppe 친 bry deg med denne.</li>
</ul>












{# ---------------- SPOILERS!-------------------- #}
{# Under her ligger hintene for oppgavene i klartekst. Stopp her om du ikke vil spoiles.#}















<h2>Oppgaver
</h2>
<p>Oppgavene har hint. Pr칮v 친 l칮se de uten f칮rst, men det er ingen skam i 친 f친 litt hjelp!</p>
<h3>Oppgave 0: Hello, world!</h3>
<ul>
    <li>Gj칮r deg litt kjent med kodebasen. Utforsk static-mappa og nettsiden, se om du kan finne ut hvordan ting henger
        sammen. Pr칮v 친 registrere, slette og redigere en ansatt.</li>
    <li>
        Skum raskt over <a target="_blank" href="https://htmx.org/reference/">https://htmx.org/reference/</a>. Du
        trenger ikke pugge
        noe, bare f친 et raskt overblikk over litt av det som finnest her. (Du vil nok ha denne nettsiden oppe i en fane
        resten av kurset.)
    </li>
</ul>
</p>

<hr>

<h3>Oppgave 1: Installer HTMX</h3>
<p>HTMX er et JavaScript-bibliotek implementet i en enkeltst친ende fil. Denne m친 inkluderes i kodebasen v친r. Se gjerne p친
    dokumentasjonen til HTMX for hvordan.</p>
<details>
    <summary>Hint 1:</summary>
    Du m친 finne en plass i koden 친 installere HTMX slik at det inkluderes p친 alle sidene (Home, Registration,
    Employees, Quote).

    <details>
        <summary>Hint 2:</summary>
        base.html inneholder HTML som inkluderes p친 alle undersidene.

        <details>
            <summary>Hint 3:</summary>
            Lim inn f칮lgende i &lt;head&gt;-taggen:
            <code>&lt;script src=&quot;https://unpkg.com/htmx.org@1.9.6&quot;
                integrity=&quot;sha384-FhXw7b6AlE/jyjlZH5iHa/tTe9EpJ1Y55RjcgPbjeWMskSxZt1v9qkxLJWNJaGni&quot;
                crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</code>

        </details>
    </details>
</details>

<hr>

<h3>Oppgave 2 - Smud navigasjon</h3>
<p>Om du hopper mellom undersidene kan du av og til se glimt av "FOUC", <i>flash of unstyled content</i>. Dette er jo
    ikke noe
    man forventer av en nettside i 2023! Konsulter dokumentasjonen og se etter ett HTMX-attributt som kan hjelpe med
    dette.</p>
<details>
    <summary>Hint 1:</summary>
    Attributten du leter etter er <a target="_blank" href="https://htmx.org/attributes/hx-boost/">hx-boost</a>.

    <details>
        <summary>Hint 2:</summary>
        hx-boost vil f친 linker og skjema (a-tagger og form-tagger) til 친 automatisk fungere p친 en moderne m친te.

        <details>
            <summary>Hint 3:</summary>
            hx-boost arves av alle barnelement under elementet det settes p친.
        </details>
    </details>
</details>

<hr>

<h3>Oppgave 3 - Automatiske sitater</h3>
<p>Observer sitatet p친 "quote"-sida. Hver gang du laster sida f친r du (sannsynligvis) et nytt sitat. Vi 칮nsker
    at det skal lastes inn nye sitat automatisk hvert 3. sekund. L칮s dette med HTMX! </p>

<details>
    <summary>Hint 1:</summary>
    Legg til attributter for 친 trigge innlasting, hente inn siden og velge ut hvilken del som skal byttes ut.

    <details>
        <summary>Hint 2:</summary>
        hx-trigger, hx-get og hx-select er vennene dine :)

        <details>
            <summary>Hint 3:</summary>
            <code>hx-trigger="every 3s" hx-get="/" hx-select="#quote"</code>
        </details>
    </details>
</details>

<hr>

<h3>Oppgave 4 - Innsending av skjema</h3>
<p>Legg merke til at n친r du fyller ut registreringsskjemaet blir du sendt videre til en side som bekrefter
    registreringen. Dette er jo litt tungvint! Hva om vi kunne vise bekreftelsen p친 samme side som skjemaet? Det kan vi,
    med HTMX!</p>
<details>
    <summary>Hint 1:</summary>
    N친r skjemaet sendes inn, hent den returnerte HTMLen og sett inn deler av den p친 en passende plass. Det er
    <code>employee_registred.html</code>-malen som blir returnert.

    <details>
        <summary>Hint 2:</summary>
        Med mindre du spesifiserer noe annet bruker HTMX
        <code>action</code>- og
        <code>method</code>-attributtene som allerede er definert p친 skjemaet.


        <details>
            <summary>Hint 3:</summary>
            Bruk<code>hx-select</code> til 친 velge div'en som har<code>id="confirmation"</code> (obs: hx-select tar
            CSS-selectorer!)
        </details>
    </details>
</details>

<hr>

<h3>Oppgave 5 - Infiniscroll</h3>
<p>Listen over ansatte viser kun de 20 f칮rste i lista, med en "mer" link nederst som henter neste side. Dette kan vi jo
    gj칮re bedre! Finn en m친te 친 dynamiske hente inn neste del av tabellen etter hvert som man scroller nedover siden.
</p>

<details>
    <summary>Hint 1:</summary>
    Her trenger vi 친 finne ut av:

    <ul>
        <li>En trigger, og hvilket element denne skal ligge p친</li>
        <li>Hvordan GET'e URLen til neste side</li>
        <li>Hvordan hente ut tabellen fra neste side, men ikke overskriftene</li>
        <li>Hvordan plassere neste del av lista under den foreg친ende.</li>
    </ul>

    <details>
        <summary>Hint 2:</summary>
        Du kan betinget rendre html i templaten med if-statements:
        <pre style="display: block;">
            {% raw %}
            {% if 1===1 %}
                &lt;tr class=&quot;foo&quot;&gt;
            {% else %}
                &lt;tr&gt;
            {% endif %}
            {% endraw %}
        </code>

        <p>For 친 sjekke om du er p친 siste element i en loop, bruk
        <code>{% raw %}{% if loop.last%}{% endraw %}</code>
        </p>
        <details>
            <summary>Hint 3:</summary>
            <a href="https://htmx.org/examples/infinite-scroll/">Se eksempel her</a>
        </details>
    </details>
</details>

<hr>

<h3>Oppgave 6 - Live s칮king</h3>
<p>Om du s칮ker i ansattlista blir du tatt til en ny side med s칮keresultatene dine. Dette er greit nok, men det hadde jo
    vert mye kulere om lista oppdaterte seg etter hvert som vi skriver! Finn en m친te 친 dynamisk laste inn s칮keresultatet
    etter hvert som du skriver i s칮kefeltet ved hjelp av HTMX!</p>
<details>
    <summary>Hint 1:</summary>

    <p>Query-parameteret <code>?q=</code> sendes med videre automatisk n친r vi s칮ker (se i URL-baren n친r du har s칮kt).</p>
    <p>
    <code>hx-trigger="keyup changed"</code> vil trigge s친 snart vi skriver, men det er bedre om vi finner en m친te 친 vente
    litt til vi er ferdige 친 skrive, s친 vi ikke spammer backenden med hvert eneste tastetrykk (s친kalt
    <i>debouncing</i>)</p>

    <details>
        <summary>Hint 2:</summary>
        <code>delay:0.3s</code> 
        <details>
            <summary>Hint 3:</summary>
            <code>hx-trigger, hx-get, hx-select,</code> og <code> hx-target</code> burde f친 deg i m친l.
        </details>
    </details>
</details>

<h3>Bonusoppgave!</h3>
<p>Finner du en m친te 친 f친 antall resultater til 친 ogs친 oppdatere seg dynamisk?</p>
<details>
    <summary>Hint</summary>
    Det vi ser etter her er en s친kalt<i> <b>O</b>ut-<b>O</b>f-<b>B</b>and</i>-operasjon.
</details>

<hr>

Oppgave 7 - Innlasting av redigeringsfelt
<hr>
Oppgave 8 - Sletting uten javascript
<hr>
<h3>Bonus 1 - Dank memes (enkel)</h3>
<a target="_blank" href="https://htmx.org/essays/#memes">Les memes.</a>
<p>Essayene p친 toppen er ogs친 ganske bra, da.</p>

<hr>
<h3>Bonus 2 - Deploy til fly.io (litt avansert)</h3>
<p>En nettside er bare nyttig om andre kan se den! Ved 친 f칮lge <a target="_blank" href="https://fly.io/docs/languages-and-frameworks/python/#before-deployment">guiden til fly.io</a> fra og med "Before Deployment"-steget kan du enkelt publisere appen p친 nettet!</p>

{% endblock %}